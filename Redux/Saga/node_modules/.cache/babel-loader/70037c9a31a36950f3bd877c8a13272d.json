{"ast":null,"code":"import _classCallCheck from\"C:\\\\Users\\\\Abhishek\\\\Desktop\\\\Redux saga\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/classCallCheck\";import _createClass from\"C:\\\\Users\\\\Abhishek\\\\Desktop\\\\Redux saga\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createClass\";import _inherits from\"C:\\\\Users\\\\Abhishek\\\\Desktop\\\\Redux saga\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/inherits\";import _createSuper from\"C:\\\\Users\\\\Abhishek\\\\Desktop\\\\Redux saga\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createSuper\";import _regeneratorRuntime from\"C:\\\\Users\\\\Abhishek\\\\Desktop\\\\Redux saga\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/regenerator\";import _asyncToGenerator from\"C:\\\\Users\\\\Abhishek\\\\Desktop\\\\Redux saga\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/asyncToGenerator\";var _marked=/*#__PURE__*/_regeneratorRuntime.mark(fetchUser),_marked2=/*#__PURE__*/_regeneratorRuntime.mark(usersSaga);import React,{Component}from'react';import{Link}from'react-router-dom';import{connect}from'react-redux';import{put,takeEvery,takeEffect}from'redux-saga/effects';var LOAD_USERS_LOADING='LOAD_USERS_LOADING';var LOAD_USERS_SUCCESS='LOAD_USERS_SUCCESS';var LOAD_USERS_ERROR='LOAD_USERS_ERROR';// const users = () => \n//   dispatch => {\n//     dispatch({type:LOAD_USERS_LOADING});\n//       return fetch('/details')\n//         .then(response => response.json())\n//         .then(\n//                userinfo =>dispatch({ type: LOAD_USERS_SUCCESS, userinfo }),\n//                 error => dispatch({ type: LOAD_USERS_ERROR ,error }))\n//     };\nfunction fetchAsync(_x){return _fetchAsync.apply(this,arguments);}function _fetchAsync(){_fetchAsync=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(func){var response;return _regeneratorRuntime.wrap(function _callee$(_context3){while(1){switch(_context3.prev=_context3.next){case 0:_context3.next=2;return func();case 2:response=_context3.sent;if(!response.ok){_context3.next=7;break;}_context3.next=6;return response.json();case 6:return _context3.abrupt(\"return\",_context3.sent);case 7:throw new Error(\"Unexpected error!!!\");case 8:case\"end\":return _context3.stop();}}},_callee);}));return _fetchAsync.apply(this,arguments);}function fetchUser(){var _users;return _regeneratorRuntime.wrap(function fetchUser$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.prev=0;_context.next=3;return fetchAsync('/details');case 3:_users=_context.sent;_context.next=6;return put({type:LOAD_USERS_SUCCESS,userinfo:_users});case 6:_context.next=12;break;case 8:_context.prev=8;_context.t0=_context[\"catch\"](0);_context.next=12;return put({type:LOAD_USERS_ERROR,error:_context.t0.message});case 12:case\"end\":return _context.stop();}}},_marked,null,[[0,8]]);}export function usersSaga(){return _regeneratorRuntime.wrap(function usersSaga$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:_context2.next=2;return takeEvery(LOAD_USERS_LOADING,fetchUser);case 2:case\"end\":return _context2.stop();}}},_marked2);}var Menu=/*#__PURE__*/function(_Component){_inherits(Menu,_Component);var _super=_createSuper(Menu);function Menu(){_classCallCheck(this,Menu);return _super.apply(this,arguments);}_createClass(Menu,[{key:\"render\",value:function render(){return/*#__PURE__*/React.createElement(\"div\",null,/*#__PURE__*/React.createElement(\"div\",null,/*#__PURE__*/React.createElement(\"center\",null,/*#__PURE__*/React.createElement(\"label\",null,\"Menu\")),/*#__PURE__*/React.createElement(\"ul\",null,/*#__PURE__*/React.createElement(\"li\",null,\" \",/*#__PURE__*/React.createElement(Link,{to:\"/\"},\"Userinfo\"),\" \"),/*#__PURE__*/React.createElement(\"li\",null,/*#__PURE__*/React.createElement(Link,{to:\"/Hi\"},\"Friends\")))));}}]);return Menu;}(Component);var mapDispatchtoProps=function mapDispatchtoProps(dispatch){return{users:function(_users2){function users(){return _users2.apply(this,arguments);}users.toString=function(){return _users2.toString();};return users;}(function(){return dispatch(users());})};};export default connect(mapDispatchtoProps,users)(Menu);","map":{"version":3,"sources":["C:/Users/Abhishek/Desktop/Redux saga/src/Containers/menu.js"],"names":["fetchUser","usersSaga","React","Component","Link","connect","put","takeEvery","takeEffect","LOAD_USERS_LOADING","LOAD_USERS_SUCCESS","LOAD_USERS_ERROR","fetchAsync","func","response","ok","json","Error","users","type","userinfo","error","message","Menu","mapDispatchtoProps","dispatch"],"mappings":"u/BA2BUA,S,iDAQOC,S,EAnCjB,MAAOC,CAAAA,KAAP,EAAcC,SAAd,KAA8B,OAA9B,CACA,OAAQC,IAAR,KAAmB,kBAAnB,CACA,OAASC,OAAT,KAAwB,aAAxB,CACA,OAASC,GAAT,CAAcC,SAAd,CAAwBC,UAAxB,KAA0C,oBAA1C,CAGA,GAAMC,CAAAA,kBAAkB,CAAG,oBAA3B,CACA,GAAMC,CAAAA,kBAAkB,CAAG,oBAA3B,CACA,GAAMC,CAAAA,gBAAgB,CAAG,kBAAzB,CAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;QAEeC,CAAAA,U,0IAAf,iBAA0BC,IAA1B,yJACyBA,CAAAA,IAAI,EAD7B,QACQC,QADR,oBAEMA,QAAQ,CAACC,EAFf,iDAGmBD,CAAAA,QAAQ,CAACE,IAAT,EAHnB,qEAKQ,IAAIC,CAAAA,KAAJ,CAAU,qBAAV,CALR,wD,6CAOA,QAAUjB,CAAAA,SAAV,gKAEoB,MAAMY,CAAAA,UAAU,CAAC,UAAD,CAAhB,CAFpB,OAEYM,MAFZ,+BAGM,MAAMZ,CAAAA,GAAG,CAAC,CAACa,IAAI,CAAET,kBAAP,CAA2BU,QAAQ,CAAGF,MAAtC,CAAD,CAAT,CAHN,uGAKM,MAAMZ,CAAAA,GAAG,CAAC,CAACa,IAAI,CAAER,gBAAP,CAAyBU,KAAK,CAAE,YAAEC,OAAlC,CAAD,CAAT,CALN,oEAQA,MAAO,SAAUrB,CAAAA,SAAV,yIAEL,MAAMM,CAAAA,SAAS,CAACE,kBAAD,CAAqBT,SAArB,CAAf,CAFK,wD,GAQDuB,CAAAA,I,oOACO,CACL,mBACI,4CACE,4CACA,+CAAQ,wCAAR,CADA,cAEA,2CACA,+CAAK,oBAAC,IAAD,EAAM,EAAE,CAAE,GAAV,aAAL,KADA,cAEA,2CAAI,oBAAC,IAAD,EAAM,EAAE,CAAE,KAAV,YAAJ,CAFA,CAFA,CADF,CADJ,CAYH,C,kBAdcpB,S,EAkBnB,GAAMqB,CAAAA,kBAAkB,CAAG,QAArBA,CAAAA,kBAAqB,CAACC,QAAD,CAAc,CACjC,MAAO,CACJP,KAAK,+IAAE,iBAAMO,CAAAA,QAAQ,CAACP,KAAK,EAAN,CAAd,EAAF,CADD,CAAP,CAGP,CAJD,CAMA,cAAeb,CAAAA,OAAO,CAACmB,kBAAD,CAAoBN,KAApB,CAAP,CAAmCK,IAAnC,CAAf","sourcesContent":["import React,{Component} from 'react'\r\nimport {Link} from 'react-router-dom';\r\nimport { connect } from 'react-redux'\r\nimport { put, takeEvery,takeEffect } from 'redux-saga/effects';\r\n \r\n\r\nconst LOAD_USERS_LOADING = 'LOAD_USERS_LOADING';\r\nconst LOAD_USERS_SUCCESS = 'LOAD_USERS_SUCCESS';\r\nconst LOAD_USERS_ERROR = 'LOAD_USERS_ERROR';\r\n \r\n// const users = () => \r\n//   dispatch => {\r\n//     dispatch({type:LOAD_USERS_LOADING});\r\n//       return fetch('/details')\r\n//         .then(response => response.json())\r\n//         .then(\r\n//                userinfo =>dispatch({ type: LOAD_USERS_SUCCESS, userinfo }),\r\n//                 error => dispatch({ type: LOAD_USERS_ERROR ,error }))\r\n//     };\r\n       \r\nasync function fetchAsync(func) {\r\n  const response = await func();\r\n  if (response.ok) {\r\n      return await response.json();\r\n  }\r\n  throw new Error(\"Unexpected error!!!\");\r\n}\r\nfunction* fetchUser() {\r\n  try {\r\n      const users = yield fetchAsync('/details');\r\n      yield put({type: LOAD_USERS_SUCCESS, userinfo : users});\r\n  } catch (e) {\r\n      yield put({type: LOAD_USERS_ERROR, error: e.message});\r\n  }\r\n}\r\nexport function* usersSaga() {\r\n  \r\n  yield takeEvery(LOAD_USERS_LOADING, fetchUser);\r\n }\r\n\r\n\r\n\r\n\r\nclass Menu extends Component {\r\n    render() {\r\n        return (\r\n            <div >\r\n              <div>\r\n              <center><label>Menu</label></center>\r\n              <ul>\r\n              <li> <Link to =\"/\">Userinfo</Link> </li>\r\n              <li><Link to =\"/Hi\">Friends</Link></li>\r\n              </ul>\r\n            </div>\r\n            </div>\r\n\r\n        )\r\n    }\r\n}\r\n\r\n  \r\nconst mapDispatchtoProps = (dispatch) => {\r\n        return {\r\n           users: () => dispatch(users()) \r\n    }\r\n}\r\n  \r\nexport default connect(mapDispatchtoProps,users) (Menu)"]},"metadata":{},"sourceType":"module"}