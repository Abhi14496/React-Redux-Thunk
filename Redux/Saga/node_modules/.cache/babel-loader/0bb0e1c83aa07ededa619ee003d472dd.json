{"ast":null,"code":"import _regeneratorRuntime from\"C:\\\\Users\\\\Abhishek\\\\Desktop\\\\Redux saga\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/regenerator\";var _marked=/*#__PURE__*/_regeneratorRuntime.mark(fetchUser),_marked2=/*#__PURE__*/_regeneratorRuntime.mark(usersSaga);import{put,takeEvery,takeLatest}from'redux-saga/effects';export var LOAD_USERS_LOADING='LOAD_USERS_LOADING';export var LOAD_USERS_SUCCESS='LOAD_USERS_SUCCESS';export var LOAD_USERS_ERROR='LOAD_USERS_ERROR';export var loadUsers=function loadUsers(){return function(dispatch){dispatch({type:LOAD_USERS_LOADING});};};// async function fetchAsync(func) {\n//    const response = await func();\n//    if (response.ok) {\n//        return await response.json();\n//    }\n//    throw new Error(\"Unexpected error!!!\");\n// }\nfunction fetchUser(){var users;return _regeneratorRuntime.wrap(function fetchUser$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.prev=0;_context.next=3;return fetch('/details');case 3:users=_context.sent;_context.next=6;return put({type:LOAD_USERS_SUCCESS,data:users});case 6:_context.next=12;break;case 8:_context.prev=8;_context.t0=_context[\"catch\"](0);_context.next=12;return put({type:LOAD_USERS_ERROR,error:_context.t0.message});case 12:case\"end\":return _context.stop();}}},_marked,null,[[0,8]]);}export function usersSaga(){return _regeneratorRuntime.wrap(function usersSaga$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:_context2.next=2;return takeEvery(LOAD_USERS_LOADING,fetchUser);case 2:case\"end\":return _context2.stop();}}},_marked2);}export default usersSaga;","map":{"version":3,"sources":["C:/Users/Abhishek/Desktop/Redux saga/src/action/index.js"],"names":["fetchUser","usersSaga","put","takeEvery","takeLatest","LOAD_USERS_LOADING","LOAD_USERS_SUCCESS","LOAD_USERS_ERROR","loadUsers","dispatch","type","fetch","users","data","error","message"],"mappings":"6MAkBUA,S,iDAQOC,S,EA1BjB,OAASC,GAAT,CAAcC,SAAd,CAAyBC,UAAzB,KAA2C,oBAA3C,CAEA,MAAO,IAAMC,CAAAA,kBAAkB,CAAG,oBAA3B,CACP,MAAO,IAAMC,CAAAA,kBAAkB,CAAG,oBAA3B,CACP,MAAO,IAAMC,CAAAA,gBAAgB,CAAG,kBAAzB,CACP,MAAO,IAAMC,CAAAA,SAAS,CAAG,QAAZA,CAAAA,SAAY,SAAM,UAAAC,QAAQ,CAAI,CACxCA,QAAQ,CAAC,CAAEC,IAAI,CAAEL,kBAAR,CAAD,CAAR,CACF,CAFwB,EAAlB,CAMP;AACA;AACA;AACA;AACA;AACA;AACA;AACA,QAAUL,CAAAA,SAAV,+JAEqB,MAAMW,CAAAA,KAAK,CAAC,UAAD,CAAX,CAFrB,OAEaC,KAFb,+BAGO,MAAMV,CAAAA,GAAG,CAAC,CAACQ,IAAI,CAAEJ,kBAAP,CAA2BO,IAAI,CAAED,KAAjC,CAAD,CAAT,CAHP,uGAKO,MAAMV,CAAAA,GAAG,CAAC,CAACQ,IAAI,CAAEH,gBAAP,CAAyBO,KAAK,CAAE,YAAEC,OAAlC,CAAD,CAAT,CALP,oEAQA,MAAO,SAAUd,CAAAA,SAAV,yIAEJ,MAAME,CAAAA,SAAS,CAACE,kBAAD,CAAqBL,SAArB,CAAf,CAFI,wDAMP,cAAeC,CAAAA,SAAf","sourcesContent":["import { put, takeEvery, takeLatest } from 'redux-saga/effects'\r\n\r\nexport const LOAD_USERS_LOADING = 'LOAD_USERS_LOADING';\r\nexport const LOAD_USERS_SUCCESS = 'LOAD_USERS_SUCCESS';\r\nexport const LOAD_USERS_ERROR = 'LOAD_USERS_ERROR';\r\nexport const loadUsers = () => dispatch => {\r\n   dispatch({ type: LOAD_USERS_LOADING });\r\n};\r\n\r\n\r\n\r\n// async function fetchAsync(func) {\r\n//    const response = await func();\r\n//    if (response.ok) {\r\n//        return await response.json();\r\n//    }\r\n//    throw new Error(\"Unexpected error!!!\");\r\n// }\r\nfunction* fetchUser() {\r\n   try {\r\n       const users = yield fetch('/details');\r\n       yield put({type: LOAD_USERS_SUCCESS, data: users});\r\n   } catch (e) {\r\n       yield put({type: LOAD_USERS_ERROR, error: e.message});\r\n   }\r\n}\r\nexport function* usersSaga() {\r\n   // Allows concurrent fetches of users\r\n   yield takeEvery(LOAD_USERS_LOADING, fetchUser);\r\n   // Does not allow concurrent fetches of users\r\n   // yield takeLatest(LOAD_USERS_LOADING, fetchUser);\r\n}\r\nexport default usersSaga;"]},"metadata":{},"sourceType":"module"}